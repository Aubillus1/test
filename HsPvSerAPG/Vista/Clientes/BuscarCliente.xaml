<Window x:Class="HsPvSerAPG.Vista.BuscarCliente"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        xmlns:cu="clr-namespace:HsPvSerAPG.Vista.Control_de_Usuario"
        Title="Búsqueda de Clientes/Proveedores" Height="550" Width="850"
         Icon="/Utils/Imagenes/logo_pequeño.png"
        ResizeMode="NoResize" WindowStartupLocation="CenterScreen" Background="{DynamicResource GradientBackground}">
    <Grid Margin="5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- IZQUIERDA: Búsqueda + DataGrid -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Criterio de búsqueda -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Criterio: " VerticalAlignment="Center" Margin="20,0,10,0" FontSize="25" FontFamily="Franklin Gothic Demi" Foreground="{DynamicResource Text}"/>
                    <Border CornerRadius="15"  Width="375" Height="35" BorderThickness="0" VerticalAlignment="Center" HorizontalAlignment="Center" Background="{DynamicResource BtnProductosPrincipalBackground}">
                        <TextBox x:Name="txtCriterio" Focusable="True"
                             Margin="10,0"
                             FontSize="18" Background="Transparent"
                             VerticalAlignment="Center" BorderThickness="0"
                             KeyUp="TxtCriterio_KeyDown"/>
                    </Border>
                </StackPanel>

                <!-- Botón Sunat -->
                <Button Grid.Column="1" Width="80" Height="60" Margin="5"
                        BorderThickness="0" Background="{DynamicResource BtnCurrentBackground}"
                        Click="Btn_Sunat">
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                        <Image Width="30" Source="/Utils/Imagenes/sunat logo.png"/>
                        <TextBlock Text="Sunat" Foreground="{DynamicResource BtnCurrentBorder}" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" Margin="0,1,0,0"/>
                    </StackPanel>
                </Button>

                <!-- Botón Reniec -->
                <Button Grid.Column="2" Width="80" Height="60" Margin="5"
                        BorderThickness="0" Background="{DynamicResource BtnReniecBackground}"
                        Click="Btn_Reniec">
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                        <Image Source="/Vista/reniec.png" Width="40"/>
                        <TextBlock Text="Reniec" Foreground="{DynamicResource BtnReniecBorder}" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </Button>
            </Grid>

            <!-- DataGrid -->
            <Grid Grid.Row="1">
                <DataGrid x:Name="tbInfo"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False" Background="{DynamicResource DataGrid}"
                      CanUserResizeColumns="False"
                      HeadersVisibility="Column"
                      Width="655" Margin="5,0,5,0"
                      IsReadOnly="True" PreviewKeyDown="tbInfo_PreviewKeyDown"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      FontSize="18" BorderThickness="0"
                      FontFamily="Bahnschrift Condensed"
                      MouseDoubleClick="tbInfo_MouseDoubleClick"
                          KeyDown="tbInfo_KeyDown">
                    <DataGrid.Resources>
                        <Style x:Key="CenterHeaderStyle" TargetType="DataGridColumnHeader">
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="Background" Value="{DynamicResource DataGridHeader}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Text}"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <EventSetter Event="PreviewKeyDown" Handler="tbInfo_KeyDown"/>
                        </Style>
                    </DataGrid.RowStyle>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="T/R" Width="50" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                        <DataGridTextColumn Header="Cod." Width="60" Binding="{Binding codigo}"  ElementStyle="{StaticResource TextoPrecio}" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                        <DataGridTextColumn Header="Nro. Doc" Width="90"  ElementStyle="{StaticResource TextoPrecio}" Binding="{Binding nrodoc}" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                        <DataGridTextColumn Header="Razón Social" Width="*" Binding="{Binding razsoc}" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                        <DataGridTextColumn Header="Dirección" Width="*" Binding="{Binding direcc}" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                        <DataGridTextColumn Header="Est" Width="50" Binding="{Binding Est}" HeaderStyle="{StaticResource CenterHeaderStyle}"/>
                    </DataGrid.Columns>
                </DataGrid>
                <cu:CargarGeneral x:Name="EfectoCargar" Visibility="Collapsed"/>
            </Grid>

            <!-- Contador -->
            <StackPanel Orientation="Horizontal" Grid.Row="2" HorizontalAlignment="Right" Margin="5">
                <TextBlock Text="Reg: " FontSize="18" Foreground="{DynamicResource Text}"/>
                <Border CornerRadius="10" Background="{DynamicResource TextBoxSombreado}" Width="80" Margin="0,0,10,0">
                    <TextBlock x:Name="txtReg" FontSize="18" Background="Transparent" Margin="10,0" HorizontalAlignment="Right"/>
                </Border>
            </StackPanel>
        </Grid>

        <!-- DERECHA: Botones -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Buscar -->
            <Button x:Name="BtnBuscar" Grid.Row="0" HorizontalAlignment="Stretch" Margin="5" Background="{DynamicResource BtnCurrentBackground}" BorderThickness="0" Click="btnBuscar_Click">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <Grid>
                        <fa:ImageAwesome Icon="File" Foreground="{DynamicResource BtnCurrentBorder}" Width="50" Height="50" Margin="0,10"/>
                        <fa:ImageAwesome Icon="Search" Foreground="Gray" Height="30" Margin="31,44,1,6"/>
                    </Grid>
                    <TextBlock Text="Buscar" Foreground="{DynamicResource BtnCurrentBorder}" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </Button>

            <!-- Nuevo -->
            <Button Grid.Row="1" HorizontalAlignment="Stretch" Margin="5" Background="{DynamicResource BtnCurrentBackground}" BorderThickness="0" Click="btn_Nuevo">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <Grid Margin="0,10">
                        <fa:ImageAwesome Icon="File" Foreground="{DynamicResource BtnCurrentBorder}" Width="50" Height="50"/>
                        <fa:ImageAwesome Icon="PlusCircle" Foreground="Green" Width="20" Height="20"
                                         HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,5,-6"/>
                    </Grid>
                    <TextBlock Text="Nuevo" Foreground="{DynamicResource BtnCurrentBorder}" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </Button>

            <!-- Modificar -->
            <Button Grid.Row="2" HorizontalAlignment="Stretch" Margin="5" Background="{DynamicResource BtnCurrentBackground}" BorderThickness="0" Click="btnModificar_Click">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <Grid Width="60" Height="60" Margin="0,10">
                        <fa:ImageAwesome Icon="File" Foreground="{DynamicResource BtnCurrentBorder}" Width="60" Height="60"/>
                        <fa:ImageAwesome Icon="Pencil" Foreground="DarkOrange" Width="60" Height="30"
                                         HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,-8,0"/>
                    </Grid>
                    <TextBlock Text="Modificar" Foreground="{DynamicResource BtnCurrentBorder}" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </Button>

            <!-- Salir -->
            <Button Grid.Row="3" Background="{DynamicResource BtnSalirBackground}" BorderThickness="0" HorizontalAlignment="Stretch" Margin="5" Click="btn_Salir">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <fa:ImageAwesome Icon="TimesCircle" Foreground="{DynamicResource BtnSalirBorder}" Width="60" Height="60" Margin="0,10"/>
                    <TextBlock Text="Salir" Foreground="{DynamicResource BtnSalirBorder}" FontWeight="Bold" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </Button>
        </Grid>

    </Grid>
</Window>
